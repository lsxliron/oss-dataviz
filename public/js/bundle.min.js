!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function plotBarChart(month){var dataFile="data/"+month+"/fbTotal.json";d3.json(dataFile,function(err,data){var max=d3.max(data,function(d){return d.count}),min=d3.min(data,function(d){return d.count}),categories=["","Commit Comments","Forks","Stars","Pull Requests","Pull Requests Comments","Issues","Issue Comment","Commits"],xscale=d3.scale.linear().domain([min,max]).range([50,$(window).width()/4]),yscale=d3.scale.linear().domain([0,categories.length]).range([0,290]),canvas=d3.select(".barChartDiv").append("svg").attr({width:$(window).width()/2,height:275}),yAxis=d3.svg.axis();yAxis.orient("left").scale(yscale).tickSize(0).tickFormat(function(d,i){return categories[i]});canvas.append("g").attr("transform","translate(220,0)").attr("id","yaxis").call(yAxis),canvas.append("g").attr("transform","translate(220,0)").attr("id","bars").selectAll("rect").data(data).enter().append("rect").attr("height",19).attr({x:0,y:function(d,i){return yscale(i)+22}}).attr("width",function(d){return 0}).style("fill","#52B6AC"),d3.select("svg").selectAll("rect").data(data).transition().duration(1e3).attr("width",function(d){return xscale(d.count)}),d3.select("#bars").selectAll("text").data(data).enter().append("text").attr({x:function(d){var numStr=d.count.toString().length;return xscale(d.count)-10*numStr-10},y:function(d,i){return yscale(i)+37}}).text(function(d){return d.count}).style({fill:"#fff","font-size":"16px"})})}function updateBarChart(data){var categories=["","Commit Comments","Forks","Stars","Pull Requests","Pull Requests Comments","Issues","Issue Comment","Commits"],max=d3.max(data,function(d){return d.count}),min=d3.min(data,function(d){return d.count}),xscale=d3.scale.linear().domain([min,max]).range([50,$(window).width()/4]),yscale=d3.scale.linear().domain([0,categories.length]).range([0,290]),canvas=d3.select(".barChartDiv").select("svg");canvas.selectAll("rect").data(data).attr("height",19).attr({x:0,y:function(d,i){return yscale(i)+22}}).transition().duration(1e3).attr("width",function(d){return xscale(d.count)}),d3.select("#bars").selectAll("text").data(data).text(function(d){return d.count}).transition().duration(1e3).attr({x:function(d){var numStr=d.count.toString().length;return xscale(d.count)-10*numStr-10},y:function(d,i){return yscale(i)+37}})}var d3=require("d3"),$=require("jquery");module.exports={plotBarChart:plotBarChart,updateBarChart:updateBarChart}},{d3:"d3",jquery:"jquery"}],2:[function(require,module,exports){"use strict";function init(){months={Total:0,January:1,February:2,March:3,April:4},treemap.plotTreemap($("#selectedMonth").val()),barchart.plotBarChart($("#selectedMonth").val()),timeSeries.plotTimeSeries($("#selectedMonth").val())}function getTimeSeriesTotal(){$.ajax({dataType:"json",url:"data/"+$("#selectedMonth").val()+"/weekly.json",success:function(data){updateTimeSeries(data)}})}function getFBTotal(){$.ajax({dataType:"json",url:"data/"+$("#selectedMonth").val()+"/fbTotal.json",success:function(data){updateBarChart(data),$("#selectedRepoTitle").text("Bar Chart: All Reporistories")}})}var angle,months,d3=require("d3"),$=require("jquery");require("materialize-css");var treemap=require("./treemap.js"),barchart=require("./barChart.js"),timeSeries=require("./timeSeries");!function(){$(".dropdown-button").dropdown(),init(),$("#refresh").on("click",function(){var angleMatrix=$("#loopIcon").css("transform");"none"==angleMatrix?angle=360:angle+=360,$("#loopIcon").css({transform:"rotate("+angle+"deg)",transition:"all 500ms ease-in"}),getFBTotal(),getTimeSeriesTotal()}),$(".month").on("click",function(event){d3.selectAll(".treemapDiv").selectAll(".node").remove(),d3.selectAll("svg").remove(),$("#selectedMonth").val(months[$(this).text()]),$("#navDropdown").text($(this).text()),init(),event.preventDefault()})}(),$(document).ready(function(){setTimeout(function(){if("0"==$("#selectedMonth").val()){var ticks=d3.selectAll(".x.axis").selectAll(".tick").selectAll("text");$.each(ticks,function(i,d){$(d).text($(d).text().slice(4))})}},1)})},{"./barChart.js":1,"./timeSeries":3,"./treemap.js":4,d3:"d3",jquery:"jquery","materialize-css":"materialize-css"}],3:[function(require,module,exports){"use strict";function plotTimeSeries(month){var color_hash={0:["#795548"],1:["#0d47a1"],2:["#00897b"],3:["#ff6f00"]};if("0"!=month)var parseDate=d3.time.format("%b %d").parse;else var parseDate=d3.time.format("%j").parse;var x=d3.time.scale().range([0,width]),y=d3.scale.linear().range([height,0]),xAxis=d3.svg.axis().scale(x).orient("bottom").ticks(5),yAxis=d3.svg.axis().scale(y).orient("left").ticks(5),line=d3.svg.line().x(function(d){return x(d.date)}).y(function(d){return y(d.count)}),svg=d3.select(".timeSeriesDiv").append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")");d3.json("data/"+month+"/weekly.json",function(err,data){data.forEach(function(d){d.date=parseDate(d.date),d.count=d.count}),x.domain(d3.extent(data,function(d){return d.date})),y.domain([0,d3.max(data,function(d){return d.count})]);var dataNest=d3.nest().key(function(d){return d.name}).entries(data);dataNest.forEach(function(d){svg.append("path").attr("class","line").attr("stroke",color_hash[dataNest.indexOf(d)]).attr("d",line(d.values)).attr("id","tag"+d.key.replace(/\s+/g,""))});var tip=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(d){return"<strong>"+d.name+":</strong> <span style='color:white'>"+d.count+"</span>"});svg.call(tip);var circles=svg.selectAll("circle").data(data).enter().append("circle");circles.attr("cx",function(d){return x(d.date)}).attr("cy",function(d){return y(d.count)}).attr("r",function(d){return 5}).attr("id",function(d){return"circle"+d.name.replace(/\s+/g,"")}).style("stroke","#917394").style("fill","#ffffff").on("mouseenter",function(){d3.select(this).transition().duration(500).attr("r",8)}).on("mouseleave",function(){d3.select(this).transition().duration(500).attr("r",5)}).on("mouseover",tip.show).on("mouseout",tip.hide),svg.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")").call(xAxis),svg.append("g").attr("class","y axis").call(yAxis);var legendSpace=width/(dataNest.length-.5);dataNest.forEach(function(d,i){svg.append("text").attr("x",legendSpace/4+i*legendSpace).attr("y",height+margin.bottom/2+15).attr("class","legend").style("fill",function(){return color_hash[String(i)]}).on("click",function(){var active=!d.active,newOpacity=active?0:1;d3.select("#tag"+d.key.replace(/\s+/g,"")).transition().duration(500).style("opacity",newOpacity),d3.selectAll("#circle"+d.key.replace(/\s+/g,"")).transition().duration(500).style("opacity",newOpacity),d.active=active}).text(d.key)})})}function updateTimeSeries(data){if(data[0].date.length>2)var parseDate=d3.time.format("%b %d").parse;else var parseDate=d3.time.format("%j").parse;var x=d3.time.scale().range([0,width]),y=d3.scale.linear().range([height,0]),yAxis=(d3.svg.axis().scale(x).orient("bottom").ticks(5),d3.svg.axis().scale(y).orient("left").ticks(5)),line=d3.svg.line().x(function(d){return x(d.date)}).y(function(d){return y(d.count)}),dataNest=d3.nest().key(function(d){return d.name}).entries(data),svg=d3.select(".timeSeriesDiv").select("svg").select("g");data.forEach(function(d){d.date=parseDate(d.date),d.count=d.count}),x.domain(d3.extent(data,function(d){return d.date})),y.domain([0,d3.max(data,function(d){return d.count+5})]),svg.selectAll(".line").data(dataNest).transition().duration(500).attr("d",function(d){return line(d.values)}).attr("id",function(d){return"tag"+d.key.replace(/\s+/g,"")}),svg.select(".y").call(yAxis),svg.selectAll("circle").data(data).transition().duration(500).attr("cx",function(d){return x(d.date)}).attr("cy",function(d){return y(d.count)}).attr("r",function(d){return 5}).attr("id",function(d){return"circle"+d.name.replace(/\s+/g,"")})}var d3=require("d3"),$=require("jquery");require("d3-tip")(d3);var margin={top:25,right:30,bottom:90,left:50},width=$(window).width()/2.5-margin.left-margin.right,height=350-margin.top-margin.bottom;module.exports={plotTimeSeries:plotTimeSeries,updateTimeSeries:updateTimeSeries}},{d3:"d3","d3-tip":"d3-tip",jquery:"jquery"}],4:[function(require,module,exports){"use strict";function plotTreemap(month){var margin={top:-20,right:40,bottom:10,left:10},width=$(window).width()-margin.left-margin.right,height=200-margin.top-margin.bottom,color=d3.scale.category20c(),treemap=d3.layout.treemap().size([width,height]).sticky(!0).value(function(d){return d.WatchEvent+100}),div=d3.select(".treemapDiv").style("position","relative").style("width",width+margin.left+margin.right+"px").style("height",height+margin.top+margin.bottom+"px").style("left",margin.left+"px").style("top",margin.top+"px");d3.json("data/"+month+"/treemapData.json",function(error,root){if(error)throw error;var node=div.datum(root).selectAll(".node").data(treemap.nodes).enter().append("div").attr("class","node").call(position).style("background",function(d){return d.children?color(d.name):null}).text(function(d){return d.children?null:d.name}).on("click",function(d){barchart.updateBarChart(getDataForBarChart(d)),getTimeSeriesData(d),$("#selectedRepoTitle").text("Bar Chart: "+d.name)}).on("mouseover",function(d){$("#selectedRepo").text("Hovered reop: "+d.name)}).on("mouseout",function(){$("#selectedRepo").text("Hovered repo: none")});d3.selectAll("input").on("change",function(){var value;"Forks"==this.value?value=function(d){return d.ForkEvent+100}:"Stars"==this.value?value=function(d){return d.WatchEvent+100}:"Pulls"==this.value?value=function(d){return d.PullRequestEvent+100}:"IssueCommentEvent"==this.value?value=function(d){return d.IssueCommentEvent+100}:"PushEvent"==this.value&&(value=function(d){return d.PushEvent+100}),node.data(treemap.value(value).nodes).transition().duration(1500).call(position)})})}function position(){this.style("left",function(d){return d.x+"px"}).style("top",function(d){return d.y+"px"}).style("width",function(d){return Math.max(0,d.dx-1)+"px"}).style("height",function(d){return Math.max(0,d.dy-1)+"px"})}function getDataForBarChart(d){var data=[{name:"CommitCommentEvent",count:d.CommitCommentEvent},{name:"ForkEvent",count:d.ForkEvent},{name:"WatchEvent",count:d.WatchEvent},{name:"PullRequestEvent",count:d.PullRequestEvent},{name:"PullRequestReviewCommentEvent",count:d.PullRequestReviewCommentEvent},{name:"IssuesEvent",count:d.IssuesEvent},{name:"IssueCommentEvent",count:d.IssueCommentEvent},{name:"PushEvent",count:d.PushEvent}];return data}function getTimeSeriesData(repo){$.ajax({dataType:"json",async:!1,url:"data/"+$("#selectedMonth").val()+"/wdata.json",success:function(data){timeSeries.updateTimeSeries(data[repo.name])}})}var d3=require("d3"),$=require("jquery"),barchart=require("./barChart.js"),timeSeries=require("./timeSeries.js");module.exports={plotTreemap:plotTreemap}},{"./barChart.js":1,"./timeSeries.js":3,d3:"d3",jquery:"jquery"}]},{},[2]);